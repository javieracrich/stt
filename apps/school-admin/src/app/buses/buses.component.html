<h3>Bus Location</h3>
<div class="row">
  <div class="col-md-12">
      <div class="card" style="height: 912.2px;">
          <div class="card-body">
              <div class="card-block">
                  <div class="row">

                      <div class="col-md-3">
                          <mat-form-field class="w-100">
                              <mat-select [(ngModel)]="selectedSchool" placeholder="Select School" (selectionChange)="onSelectSchool($event)">
                                <mat-option *ngFor="let school of schools$ | async" [value]="school.code">
                                  {{ school.name }}
                                </mat-option>
                              </mat-select>
                            </mat-form-field>
                      </div>
                      <div class="col-md-3">
                          <mat-form-field class="w-100">
                              <mat-select placeholder="Select Bus" [disabled]="!selectedSchool" [(ngModel)]="selectedBus" (selectionChange)="onSelectShoolBus($event)">
                                <mat-option *ngFor="let bus of buses$ | async" [value]="bus.code">
                                  {{ bus.name }}
                                </mat-option>
                              </mat-select>
                            </mat-form-field>
                      </div>
                      <div class="col-md-3">
                          <mat-form-field class="w-100">
                              <input matInput [matDatepicker]="fromDate" placeholder="From Date" />
                              <mat-datepicker-toggle matSuffix [for]="fromDate"></mat-datepicker-toggle>
                              <mat-datepicker #fromDate></mat-datepicker>
                            </mat-form-field>

                      </div>
                      <div class="col-md-3">
                          <mat-form-field class="w-100">
                              <input matInput [matDatepicker]="untilDate" placeholder="Until Date" />
                              <mat-datepicker-toggle matSuffix [for]="untilDate"></mat-datepicker-toggle>
                              <mat-datepicker #untilDate></mat-datepicker>
                            </mat-form-field>
                      </div>

                  </div>
                  <div class="row">
                    <div class="col-md-12 text-right">
                        <button class="btn-block" (click)="search()" [disabled]="!selectedBus" mat-raised-button color="primary">
                          <span>
                            <i-feather name="search"></i-feather>
                          </span>
                          <span>Search</span>
                        </button>
                    </div>
                  </div>
                  <div class="row">

                      <div class="col-12">
                          <mat-tab-group class="mt-3" (selectedTabChange)="onTabChange($event)">
                            <mat-tab label="Live Map">
                              <div #livemap id="live-map">
                                <h5 class="mt-3">Select a bus to start tracking bus position</h5>
                              </div>
                            </mat-tab>
                            <mat-tab label="History Map">
                              <div #historymap id="history-map">
                                <h5 class="mt-3">Select a bus and a date range to start tracking bus position</h5>
                              </div>
                            </mat-tab>
                          </mat-tab-group>
                        </div>

                  </div>
              </div>
          </div>
      </div>
  </div>
</div>


